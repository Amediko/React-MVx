<!DOCTYPE html>
<!--[if lt IE 7]>       <html class="no-js ie6 oldie" lang="en"> <![endif]-->
<!--[if IE 7]>          <html class="no-js ie7 oldie" lang="en"> <![endif]-->
<!--[if IE 8]>          <html class="no-js ie8 oldie" lang="en"> <![endif]-->
<!--[if gt IE 8]><!-->  <html class="no-js" lang="en"> <!--<![endif]-->
<head>
    <title>Data-bound controls - React-MVx</title>
    <meta name="description" content="MVVM Architecture Framework for React" />
    <meta name="author" content="Vlad Balin">
    <meta charset="UTF-8">
    <link rel="icon" href="themes/daux/img/favicon-navy.png" type="image/x-icon">
    <!-- Mobile -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Font -->
    <link href='https://fonts.googleapis.com/css?family=Roboto+Slab:400,100,300,700&subset=latin,cyrillic-ext,cyrillic' rel='stylesheet' type='text/css'>
    <!-- CSS -->
    <link href='themes/daux/css/theme-navy.min.css' rel='stylesheet' type='text/css'>
            <!-- Tipue Search -->
        <link href="tipuesearch/tipuesearch.css" rel="stylesheet">
    
    <!--[if lt IE 9]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
</head>
<body class="">
    
<header class="Navbar hidden-print">
    <a class="Navbar__brand" href="index.html">React-MVx</a>

    <div class="Search">
        <svg class="Search__icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 451 451"><path d="M447.05 428l-109.6-109.6c29.4-33.8 47.2-77.9 47.2-126.1C384.65 86.2 298.35 0 192.35 0 86.25 0 .05 86.3.05 192.3s86.3 192.3 192.3 192.3c48.2 0 92.3-17.8 126.1-47.2L428.05 447c2.6 2.6 6.1 4 9.5 4s6.9-1.3 9.5-4c5.2-5.2 5.2-13.8 0-19zM26.95 192.3c0-91.2 74.2-165.3 165.3-165.3 91.2 0 165.3 74.2 165.3 165.3s-74.1 165.4-165.3 165.4c-91.1 0-165.3-74.2-165.3-165.4z"/></svg>
        <input type="search" id="tipue_search_input" class="Search__field" placeholder="Search..." autocomplete="on" results=25 autosave=text_search>
    </div>
</header>
<div class="Columns content">
    <aside class="Columns__left Collapsible">
        <div class="Collapsible__container">
            <button type="button" class="Button Collapsible__trigger">
                <span class="Collapsible__trigger--bar"></span>
                <span class="Collapsible__trigger--bar"></span>
                <span class="Collapsible__trigger--bar"></span>
            </button>
        </div>

        <div class="Collapsible__content">
            <!-- Navigation -->
            <ul class='Nav'><li class='Nav__item '><a href="Getting_Started.html">Getting Started</a></li><li class='Nav__item  has-children'><a href="Guides/Data_binding_and_forms.html" class="folder"><i class="Nav__arrow">&nbsp;</i>Guides</a><ul class='Nav'><li class='Nav__item '><a href="Guides/Data_binding_and_forms.html">Data binding and forms</a></li><li class='Nav__item '><a href="Guides/Input_Validation.html">Input Validation</a></li><li class='Nav__item '><a href="Guides/Editable_Lists.html">Editable Lists</a></li><li class='Nav__item '><a href="Guides/Paging.html">Paging</a></li><li class='Nav__item '><a href="Guides/id-references_and_stores.html">id-references and stores</a></li><li class='Nav__item '><a href="Guides/Layered_application_state.html">Layered application state</a></li></ul></li><li class='Nav__item '><a href="Overview.html">Overview</a></li><li class='Nav__item  has-children'><a href="Component/Overview.html" class="folder"><i class="Nav__arrow">&nbsp;</i>Component</a><ul class='Nav'><li class='Nav__item '><a href="Component/Overview.html">Overview</a></li><li class='Nav__item '><a href="Component/props.html">props</a></li><li class='Nav__item '><a href="Component/state.html">state</a></li><li class='Nav__item '><a href="Component/store.html">store</a></li><li class='Nav__item '><a href="Component/context.html">context</a></li><li class='Nav__item '><a href="Component/Other_members.html">Other members</a></li></ul></li><li class='Nav__item  has-children'><a href="Link/Overview.html" class="folder"><i class="Nav__arrow">&nbsp;</i>Link</a><ul class='Nav'><li class='Nav__item '><a href="Link/Overview.html">Overview</a></li><li class='Nav__item '><a href="Link/Link_structure.html">Link structure</a></li><li class='Nav__item '><a href="Link/Create_the_link.html">Create the link</a></li><li class='Nav__item '><a href="Link/Link_transformations.html">Link transformations</a></li><li class='Nav__item '><a href="Link/Links_to_objects_and_arrays.html">Links to objects and arrays</a></li></ul></li><li class='Nav__item Nav__item--active'><a href="Data-bound_controls.html">Data-bound controls</a></li><li class='Nav__item '><a href="Examples.html">Examples</a></li></ul>

            <div class="Links">
                                    <hr/>
                                            <a href="https://github.com/Volicon/React-MVx/issues" target="_blank">Help/Support/Bugs</a>
                        <br />
                                            <a href="http://volicon.com" target="_blank">Made by Volicon (a Verizon company)</a>
                        <br />
                                    
                                    <div class="CodeToggler">
                        <hr/>
                                                    <a class="CodeToggler__button CodeToggler__button--main" href="#">Show Code Blocks Inline</a><br>
                                            </div>
                
                                    <hr/>
                    <div class="Twitter">
                                                    <iframe allowtransparency="true" frameborder="0" scrolling="no" style="width:162px; height:20px;" src="https://platform.twitter.com/widgets/follow_button.html?screen_name=gaperton&amp;show_count=false"></iframe>
                            <br />
                            <br />
                                            </div>
                            </div>
        </div>
    </aside>
    <div class="Columns__right ">
        <div class="Columns__right__content">
            <div class="doc_content">
                <article class="Page">

    <div class="Page__header">
        <h1>Data-bound controls</h1>
                <span style="float: left; font-size: 10px; color: gray;">
            Tuesday, May 30, 2017 9:17 PM        </span>
                        <span style="float: right; font-size: 10px; color: gray;">
            <a href="https://github.com/Volicon/React-MVx/blob/develop/docs/05_Data-bound_controls.md" target="_blank">Edit on GitHub</a>
        </span>
            </div>


    <div class="s-content">
        <h1 id="page_Ad-hoc+data+binding">Ad-hoc data binding</h1>
<h3 id="page_%3Ctag+%7B+...link.props+%7D+%2F%3E">&lt;tag { ...link.props } /&gt;</h3>
<p>Bind the linked value to any standard UI control expecting <code>value</code> and <code>onChange</code> props.</p>
<h2 id="page_Text+controls">Text controls</h2>
<p>Bind input or textarea to the linked string:</p>
<pre><code class="language-javascript">// String
&lt;input type=&quot;text&quot; {...link.props} /&gt;
&lt;textarea {...link.props} /&gt;
</code></pre>
<h2 id="page_Checkboxes">Checkboxes</h2>
<p>Bind the checkbox to the linked boolean:</p>
<pre><code class="language-javascript">&lt;input type=&quot;checkbox&quot; {...boolLink.props } /&gt;
</code></pre>
<p>Bind the checkbox to the presence of value in the array:</p>
<pre><code class="language-javascript">// array = [ 'optionA' ]
&lt;input type=&quot;checkbox&quot;  {...arrayLink.contains( 'optionA' ).props } /&gt; // Checked
&lt;input type=&quot;checkbox&quot;  {...arrayLink.contains( 'optionB' ).props } /&gt; // Unchecked
</code></pre>
<p>Bind the checkbox to the presence of the record in the collection:</p>
<pre><code class="language-javascript">&lt;input type=&quot;checkbox&quot; {...collection.linkContains( record ).props } /&gt;
</code></pre>
<h2 id="page_Radio+groups">Radio groups</h2>
<p>Bind radio group to the single linked value:</p>
<pre><code class="language-javascript">// Radio
&lt;input type=&quot;radio&quot; {...link.equals( 'optionA' ).props } /&gt;
&lt;input type=&quot;radio&quot; {...link.equals( 'optionB' ).props } /&gt;
</code></pre>
<h2 id="page_Select+list">Select list</h2>
<p>Bind select list to the linked value:</p>
<pre><code class="language-javascript">// Select
&lt;select {...link.props}&gt;
    &lt;option value=&quot;optionA&quot;&gt; A &lt;/option&gt;
    &lt;option value=&quot;optionB&quot;&gt; B &lt;/option&gt;
&lt;/select&gt;
</code></pre>
<h1 id="page_Linked+UI+controls">Linked UI controls</h1>
<p><em>Linked control</em> is the custom React component taking the <code>link</code> property instead of <code>value</code>/<code>onChange</code> props pair.
It uses the link to extract the value and validation error, and to modify the value.</p>
<p>Linked controls makes it possible to create the semantic form markup encapsulating inline validation
and form layout styling. Not just form controls, but the most of the UI can benefit of this technique.</p>
<pre><code class="language-javascript">// Custom data-bound control
const Input = ({ link, ...props }) =&gt; (
    &lt;div className={`form-row ${ link.error ? 'has-error' : '' } `}&gt;
        &lt;input type=&quot;text&quot; {...props} { ...link.props } /&gt;
        &lt;div className=&quot;error-placeholder&quot;&gt;{ link.error || '' } &lt;/div&gt;
    &lt;/div&gt;
);

// Another simple data bound control
const Input = ({ link, ...props }) =&gt; (
    &lt;input {...props}
            value={ link.value }
            onChange={ e =&gt; link.set( e.target.value ) } /&gt;
);
</code></pre>
<p>There are the set of pre-defined linked UI controls in <code>react-mvx/tags</code> modules. Inline error indication is rather project-dependent, thus this file is intended to be used as a reference and starting boilerplate for your controls.</p>
<pre><code class="language-javascript">import { Input } from 'react-mvx/tags'
</code></pre>
<h2 id="page_Text+input+controls">Text input controls</h2>
<p><code>tags.jsx</code> contains wrappers for standard <code>&lt;input&gt;</code> and <code>&lt;textarea&gt;</code> tags,
which consume linked strings. These wrappers add <code>invalid</code> class to enclosed HTML element if an error is present in the link,
and <code>required</code> class if <code>isRequired</code> validator is the failing one.</p>
<pre><code class="language-javascript">import { Input, TextArea } from 'react-mvx/tags'
...
&lt;Input type=&quot;text&quot; valueLink={ link } /&gt;
&lt;TextArea valueLink={ link } /&gt;
</code></pre>
<p>Its implementation is rather straightforward.</p>
<h2 id="page_Numeric+input">Numeric input</h2>
<p>In some cases you can use the <em>wrong input rejection</em> instead of (or in addition to) the validation. The most popular
example is the numeric-only input control. It guarantees that the linked value will only be updated with the valid number,
completely encapsulating all related checks and mechanics.</p>
<p>The challenge here is that when number in not an <em>integer</em> it has to go through the sequence of intermediate invalid states during the editing process.
Like &quot;&quot; -&gt; &quot;-&quot; -&gt; &quot;-0&quot; -&gt; &quot;-0.&quot; -&gt; &quot;-0.5&quot;.</p>
<p>The proper implementation of wrong input rejection might be tough.
<code>tags.jsx</code> contains the cross-browser numeric input tag. It has following differences compared to the regular <code>&lt;Input&gt;</code>:</p>
<ul>
<li>Keyboard input which obviously leads to invalid values (e.g. letters) is rejected.</li>
<li>Link value is guaranteed to be the valid number.</li>
<li>There are <code>integer</code> and <code>positive</code> boolean props controlling input rejection. They can be combined.</li>
</ul>
<p><code>&lt;NumberInput&gt;</code> validates its intermediate state and adds <code>invalid</code> class to enclosed input element if it's not a number.</p>
<pre><code class="language-jsx">import { NumberInput } from 'react-mvx/tags'

&lt;NumberInput valueLink={ link } /&gt;
&lt;NumberInput valueLink={ link } integer={ true }/&gt;
&lt;NumberInput valueLink={ link } positive={ true }/&gt;
</code></pre>
<h2 id="page_Checkboxes">Checkboxes</h2>
<p>There are different ways how you can handle the checkbox components. The problem of the standard
checkbox control, though, is that it's not that easily styled.</p>
<p><code>tags.jsx</code> contains the custom checkbox and radio components implemented using the plain <code>&lt;div /&gt;</code>
element which toggles <code>selected</code> class on click. By default, it has <code>checkbox</code> CSS class,
which can be overridden by passing <code>className</code> prop. It passes through anything else, including <code>children</code>.</p>
<pre><code class="language-jsx">&lt;Checkbox checkedLink={ booleanLink } /&gt;
&lt;Checkbox checkedLink={ arrayLink.contains( 'option' ) } /&gt;
</code></pre>
<h2 id="page_Radio+Groups">Radio Groups</h2>
<p>There are two different ways how you can approach the data binding for the radio groups.
First option is to pass the <code>value</code> of the particular option along with the link. Link this:</p>
<pre><code class="language-jsx">&lt;label&gt;
    A: &lt;Input type=&quot;radio&quot; valueLink={ flagLink } value=&quot;a&quot; /&gt;
&lt;/label&gt;
&lt;label&gt;
    B: &lt;Input type=&quot;radio&quot; valueLink={ flagLink } value=&quot;b&quot; /&gt;
&lt;/label&gt;
</code></pre>
<p>Alternatively, you can use <code>link.equals( value )</code> method to produce the boolean
link which is specially designed to create radio groups, as it's illustrated by
the custom <code>&lt;Radio /&gt;</code> tags from the <code>tags.jsx</code>.</p>
<p>Internally, it's <code>&lt;div&gt;</code> element which always sets its link to <code>true</code> on click.
And whenever the link value is <code>true</code>, it adds <code>selected</code> class to the div.</p>
<p>By default, it has <code>radio</code> CSS class, which can be overridden by passing <code>className</code> prop.
It passes through anything else, including <code>children</code>.</p>
<pre><code class="language-jsx">&lt;label&gt;
    A: &lt;Radio checkedLink={ flagLink.equals( 'a' ) } /&gt;
&lt;/label&gt;
&lt;label&gt;
    B: &lt;Radio checkedLink={ flagLink.equals( 'b' ) } /&gt;
&lt;/label&gt;
</code></pre>
    </div>

        <nav>
        <ul class="Pager">
            <li class=Pager--prev><a href="Link/Links_to_objects_and_arrays.html">Previous</a></li>            <li class=Pager--next><a href="Examples.html">Next</a></li>        </ul>
    </nav>
    </article>

            </div>
        </div>
    </div>
</div>

    
    <!-- jQuery -->
    <script src="themes/daux/js/jquery-1.11.3.min.js"></script>

    <!-- hightlight.js -->
    <script src="themes/daux/js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    <!-- JS -->
    
    <script src="themes/daux/js/daux.js"></script>

            <!-- Tipue Search -->
        <script type="text/javascript" src="tipuesearch/tipuesearch.js"></script>

        <script>
            window.onunload = function(){}; // force $(document).ready to be called on back/forward navigation in firefox
            $(function() {
                tipuesearch({
                    'base_url': ''
                });
            });
        </script>
    
</body>
</html>
