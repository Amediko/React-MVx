<!DOCTYPE html>
<!--[if lt IE 7]>       <html class="no-js ie6 oldie" lang="en"> <![endif]-->
<!--[if IE 7]>          <html class="no-js ie7 oldie" lang="en"> <![endif]-->
<!--[if IE 8]>          <html class="no-js ie8 oldie" lang="en"> <![endif]-->
<!--[if gt IE 8]><!-->  <html class="no-js" lang="en"> <!--<![endif]-->
<head>
    <title>Data-bound controls - React-MVx</title>
    <meta name="description" content="MVVM Architecture Framework for React" />
    <meta name="author" content="Vlad Balin">
    <meta charset="UTF-8">
    <link rel="icon" href="themes/daux/img/favicon-navy.png" type="image/x-icon">
    <!-- Mobile -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Font -->
    <link href='https://fonts.googleapis.com/css?family=Roboto+Slab:400,100,300,700&subset=latin,cyrillic-ext,cyrillic' rel='stylesheet' type='text/css'>
    <!-- CSS -->
    <link href='themes/daux/css/theme-navy.min.css' rel='stylesheet' type='text/css'>
            <!-- Tipue Search -->
        <link href="tipuesearch/tipuesearch.css" rel="stylesheet">
    
    <!--[if lt IE 9]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
</head>
<body class="with-float">
    
<header class="Navbar hidden-print">
    <a class="Navbar__brand" href="index.html">React-MVx</a>

    <div class="Search">
        <svg class="Search__icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 451 451"><path d="M447.05 428l-109.6-109.6c29.4-33.8 47.2-77.9 47.2-126.1C384.65 86.2 298.35 0 192.35 0 86.25 0 .05 86.3.05 192.3s86.3 192.3 192.3 192.3c48.2 0 92.3-17.8 126.1-47.2L428.05 447c2.6 2.6 6.1 4 9.5 4s6.9-1.3 9.5-4c5.2-5.2 5.2-13.8 0-19zM26.95 192.3c0-91.2 74.2-165.3 165.3-165.3 91.2 0 165.3 74.2 165.3 165.3s-74.1 165.4-165.3 165.4c-91.1 0-165.3-74.2-165.3-165.4z"/></svg>
        <input type="search" id="tipue_search_input" class="Search__field" placeholder="Search..." autocomplete="on" results=25 autosave=text_search>
    </div>
</header>
<div class="Columns content">
    <aside class="Columns__left Collapsible">
        <div class="Collapsible__container">
            <button type="button" class="Button Collapsible__trigger">
                <span class="Collapsible__trigger--bar"></span>
                <span class="Collapsible__trigger--bar"></span>
                <span class="Collapsible__trigger--bar"></span>
            </button>
        </div>

        <div class="Collapsible__content">
            <!-- Navigation -->
            <ul class='Nav'><li class='Nav__item '><a href="Getting_Started.html">Getting Started</a></li><li class='Nav__item  has-children'><a href="Guides/Data_binding_and_forms.html" class="folder"><i class="Nav__arrow">&nbsp;</i>Guides</a><ul class='Nav'><li class='Nav__item '><a href="Guides/Data_binding_and_forms.html">Data binding and forms</a></li><li class='Nav__item '><a href="Guides/Input_Validation.html">Input Validation</a></li><li class='Nav__item '><a href="Guides/Editable_Lists.html">Editable Lists</a></li><li class='Nav__item '><a href="Guides/Paging.html">Paging</a></li><li class='Nav__item '><a href="Guides/id-references_and_stores.html">id-references and stores</a></li><li class='Nav__item '><a href="Guides/Layered_application_state.html">Layered application state</a></li></ul></li><li class='Nav__item  has-children'><a href="API_Reference/Overview.html" class="folder"><i class="Nav__arrow">&nbsp;</i>API Reference</a><ul class='Nav'><li class='Nav__item '><a href="API_Reference/Overview.html">Overview</a></li><li class='Nav__item  has-children'><a href="API_Reference/Component_API/Overview.html" class="folder"><i class="Nav__arrow">&nbsp;</i>Component API</a><ul class='Nav'><li class='Nav__item '><a href="API_Reference/Component_API/Overview.html">Overview</a></li><li class='Nav__item '><a href="API_Reference/Component_API/props.html">props</a></li><li class='Nav__item '><a href="API_Reference/Component_API/state.html">state</a></li><li class='Nav__item '><a href="API_Reference/Component_API/store.html">store</a></li><li class='Nav__item '><a href="API_Reference/Component_API/context.html">context</a></li><li class='Nav__item '><a href="API_Reference/Component_API/Links_to_state.html">Links to state</a></li><li class='Nav__item '><a href="API_Reference/Component_API/Rendering_Control.html">Rendering Control</a></li></ul></li><li class='Nav__item  has-children'><a href="API_Reference/Link_API/Overview.html" class="folder"><i class="Nav__arrow">&nbsp;</i>Link API</a><ul class='Nav'><li class='Nav__item '><a href="API_Reference/Link_API/Overview.html">Overview</a></li><li class='Nav__item '><a href="API_Reference/Link_API/Link_structure.html">Link structure</a></li><li class='Nav__item '><a href="API_Reference/Link_API/Create_the_link.html">Create the link</a></li><li class='Nav__item '><a href="API_Reference/Link_API/Link_transformations.html">Link transformations</a></li><li class='Nav__item '><a href="API_Reference/Link_API/Links_to_objects_and_arrays.html">Links to objects and arrays</a></li></ul></li><li class='Nav__item  has-children'><a href="API_Reference/Record/Overview.html" class="folder"><i class="Nav__arrow">&nbsp;</i>Record</a><ul class='Nav'><li class='Nav__item '><a href="API_Reference/Record/Overview.html">Overview</a></li><li class='Nav__item '><a href="API_Reference/Record/Record_lifecycle.html">Record lifecycle</a></li><li class='Nav__item '><a href="API_Reference/Record/Events_and_transactions.html">Events and transactions</a></li><li class='Nav__item '><a href="API_Reference/Record/Validation.html">Validation</a></li><li class='Nav__item '><a href="API_Reference/Record/Serialization.html">Serialization</a></li><li class='Nav__item '><a href="API_Reference/Record/id-References.html">id-References</a></li></ul></li></ul></li><li class='Nav__item Nav__item--active'><a href="Data-bound controls.html">Data-bound controls</a></li><li class='Nav__item '><a href="Examples.html">Examples</a></li><li class='Nav__item  has-children'><a href="includes/api.html" class="folder"><i class="Nav__arrow">&nbsp;</i>includes</a><ul class='Nav'><li class='Nav__item '><a href="includes/api.html">api</a></li><li class='Nav__item '><a href="includes/complex-state.html">complex-state</a></li><li class='Nav__item '><a href="includes/databinding.1.html">databinding.1</a></li><li class='Nav__item '><a href="includes/simple.html">simple</a></li></ul></li></ul>

            <div class="Links">
                                    <hr/>
                                            <a href="https://github.com/Volicon/React-MVx/issues" target="_blank">Help/Support/Bugs</a>
                        <br />
                                            <a href="http://volicon.com" target="_blank">Made by Volicon (a Verizon company)</a>
                        <br />
                                    
                                    <div class="CodeToggler">
                        <hr/>
                                                    <span class="CodeToggler__text">Code blocks</span>
                            <div class="ButtonGroup" role="group">
                                <button class="Button Button--default Button--small CodeToggler__button CodeToggler__button--hide">No</button>
                                <button class="Button Button--default Button--small CodeToggler__button CodeToggler__button--below">Below</button>
                                <button class="Button Button--default Button--small CodeToggler__button CodeToggler__button--float">Inline</button>
                            </div>
                                            </div>
                
                                    <hr/>
                    <div class="Twitter">
                                                    <iframe allowtransparency="true" frameborder="0" scrolling="no" style="width:162px; height:20px;" src="https://platform.twitter.com/widgets/follow_button.html?screen_name=gaperton&amp;show_count=false"></iframe>
                            <br />
                            <br />
                                            </div>
                            </div>
        </div>
    </aside>
    <div class="Columns__right Columns__right--float">
        <div class="Columns__right__content">
            <div class="doc_content">
                <article class="Page">

    <div class="Page__header">
        <h1>Data-bound controls</h1>
                <span style="float: left; font-size: 10px; color: gray;">
            Monday, May 15, 2017 5:18 PM        </span>
                        <span style="float: right; font-size: 10px; color: gray;">
            <a href="https://github.com/Volicon/React-MVx/blob/develop/docs/04_Data-bound controls.md" target="_blank">Edit on GitHub</a>
        </span>
            </div>


    <div class="s-content">
        <p>Link can be bound to the standard form control consuming <code>value</code> and <code>onChange</code> props using the <code>link.props</code> property:</p>
<p>For the case of string control it's rather straightforward.</p>
<pre><code class="language-javascript">// String
&lt;input type=&quot;text&quot; {...link.props} /&gt;
&lt;textarea {...link.props} /&gt;
</code></pre>
<p>Checkbox can be bound to value either:</p>
<ul>
<li>directly, if the value is boolean.</li>
<li>to the presense of the value in the array (array of flags), using the <code>link.contains()</code> method.</li>
<li>to the presense of the record in the collection, using <code>collection.linkContains()</code> method.</li>
</ul>
<pre><code class="language-javascript">// Checkbox
&lt;input type=&quot;checkbox&quot; {...boolLink.props } /&gt;
&lt;input type=&quot;checkbox&quot; {...arrayLink.contains( 'optionX' ).props } /&gt;
&lt;input type=&quot;checkbox&quot; {...collection.linkContains( record ).props } /&gt;
</code></pre>
<p>Radio groups can be bound to the single link, using <code>link.equals()</code> method.</p>
<pre><code class="language-javascript">// Radio
&lt;input type=&quot;radio&quot; {...link.equals( 'optionA' ).props } /&gt;
&lt;input type=&quot;radio&quot; {...link.equals( 'optionB' ).props } /&gt;
</code></pre>
<p>And the select list is bound to the single link in the same way as text inputs.</p>
<pre><code class="language-javascript">// Select
&lt;select {...link.props}&gt;
    &lt;option value=&quot;optionA&quot;&gt; A &lt;/option&gt;
    &lt;option value=&quot;optionB&quot;&gt; B &lt;/option&gt;
&lt;/select&gt;
</code></pre>
<p>However, in order to take the full advantage of the value link pattern you're encouraged to create
the semantic form control wrappers encapsulating the markup for inline validation errors
and form layout styling.</p>
<p>Not only the forms, but the most of UI can benefit of this technique.</p>
<h2 id="page_Linked+UI+controls">Linked UI controls</h2>
<p>This guide will explain how to create the custom data-bound (linked) controls with inline validation.</p>
<p><em>Linked control</em> is the React component following the simple pattern illustrated below. It takes the <code>link</code> as single property
instead of the value and callbacks. It uses the link to extract the value and validation error, and to modify the value.</p>
<pre><code class="language-javascript">// Custom data-bound control
const Input = ({ link, ...props }) =&gt; (
    &lt;div className={`form-row ${ link.error ? 'has-error' : '' } `}&gt;
        &lt;input type=&quot;text&quot; {...props} { ...link.props } /&gt;
        &lt;div className=&quot;error-placeholder&quot;&gt;{ link.error || '' } &lt;/div&gt;
    &lt;/div&gt;
);

// Another simple data bound control
const Input = ({ link, ...props }) =&gt; (
    &lt;input {...props}
            value={ link.value }
            onChange={ e =&gt; link.set( e.target.value ) } /&gt;
);
</code></pre>
<p>Custom tags mentioned in this guide are available as <code>react-mvx/tags</code>. As it's hard to come up with the general solution for inline errors indication, this file is rather intended to be used as a starting boilerplate for your controls.</p>
<pre><code class="language-javascript">import { Input } from 'react-mvx/tags'
</code></pre>
<h3 id="page_Text+input+controls">Text input controls</h3>
<p><code>tags.jsx</code> contains wrappers for standard <code>&lt;input&gt;</code> and <code>&lt;textarea&gt;</code> tags,
which consume linked strings. These wrappers add <code>invalid</code> class to enclosed HTML element if an error is present in the link,
and <code>required</code> class if <code>isRequired</code> validator is the failing one.</p>
<pre><code class="language-javascript">import { Input, TextArea } from 'react-mvx/tags'
...
&lt;Input type=&quot;text&quot; valueLink={ link } /&gt;
&lt;TextArea valueLink={ link } /&gt;
</code></pre>
<p>Its implementation is rather straightforward.</p>
<h3 id="page_Numeric+input">Numeric input</h3>
<p>In some cases you can use the <em>wrong input rejection</em> instead of (or in addition to) the validation. The most popular
example is the numeric-only input control. It guarantees that the linked value will only be updated with the valid number,
completely encapsulating all related checks and mechanics.</p>
<p>The challenge here is that when number in not an <em>integer</em> it has to go throgh the sequence of intermediate invalid states during the editing process.
Like &quot;&quot; -&gt; &quot;-&quot; -&gt; &quot;-0&quot; -&gt; &quot;-0.&quot; -&gt; &quot;-0.5&quot;.</p>
<p>The proper implementation of wrong input rejection might be tough.
<code>tags.jsx</code> contains the cross-browser numeric input tag. It has following differences compared to the regular <code>&lt;Input&gt;</code>:</p>
<ul>
<li>Keyboard input which obviously leads to invalid values (e.g. letters) is rejected.</li>
<li>Link value is guaranteed to be the valid number.</li>
<li>There are <code>integer</code> and <code>positive</code> boolean props controlling input rejection. They can be combined.</li>
</ul>
<p><code>&lt;NumberInput&gt;</code> validates its intermediate state and adds <code>invalid</code> class to enclosed input element if it's not a number.</p>
<pre><code class="language-jsx">import { NumberInput } from 'react-mvx/tags'

&lt;NumberInput valueLink={ link } /&gt;
&lt;NumberInput valueLink={ link } integer={ true }/&gt;
&lt;NumberInput valueLink={ link } positive={ true }/&gt;
</code></pre>
<h3 id="page_Checkboxes">Checkboxes</h3>
<p>There are different ways how you can handle the checkbox components. The problem of the standard
checkbox control, though, is that it's not that easily styled.</p>
<p><code>tags.jsx</code> contains the custom checkbox and radio components implemented using the plain <code>&lt;div /&gt;</code>
element which toggles <code>selected</code> class on click. By default, it has <code>checkbox</code> CSS class,
which can be overridden by passing <code>className</code> prop. It passes through anything else, including <code>children</code>.</p>
<pre><code class="language-jsx">&lt;Checkbox checkedLink={ booleanLink } /&gt;
&lt;Checkbox checkedLink={ arrayLink.contains( 'option' ) } /&gt;
</code></pre>
<h3 id="page_Radio+Groups">Radio Groups</h3>
<p>There are two different ways how you can approach the data binding for the radio groups.
First option is to pass the <code>value</code> of the particular option along with the link. Link this:</p>
<pre><code class="language-jsx">&lt;label&gt;
    A: &lt;Input type=&quot;radio&quot; valueLink={ flagLink } value=&quot;a&quot; /&gt;
&lt;/label&gt;
&lt;label&gt;
    B: &lt;Input type=&quot;radio&quot; valueLink={ flagLink } value=&quot;b&quot; /&gt;
&lt;/label&gt;
</code></pre>
<p>Alternatively, you can use <code>link.equals( value )</code> method to produce the boolean
link which is specially designed to create radio groups, as it's illustrated by
the custom <code>&lt;Radio /&gt;</code> tags from the <code>tags.jsx</code>.</p>
<p>Internally, it's <code>&lt;div&gt;</code> element which always sets its link to <code>true</code> on click.
And whenever the link value is <code>true</code>, it adds <code>selected</code> class to the div.</p>
<p>By default, it has <code>radio</code> CSS class, which can be overridden by passing <code>className</code> prop.
It passes through anything else, including <code>children</code>.</p>
<pre><code class="language-jsx">&lt;label&gt;
    A: &lt;Radio checkedLink={ flagLink.equals( 'a' ) } /&gt;
&lt;/label&gt;
&lt;label&gt;
    B: &lt;Radio checkedLink={ flagLink.equals( 'b' ) } /&gt;
&lt;/label&gt;
</code></pre>
    </div>

        <nav>
        <ul class="Pager">
            <li class=Pager--prev><a href="API_Reference/Record/id-References.html">Previous</a></li>            <li class=Pager--next><a href="Examples.html">Next</a></li>        </ul>
    </nav>
    </article>

            </div>
        </div>
    </div>
</div>

    
    <!-- jQuery -->
    <script src="themes/daux/js/jquery-1.11.3.min.js"></script>

    <!-- hightlight.js -->
    <script src="themes/daux/js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    <!-- JS -->
    
    <script src="themes/daux/js/daux.js"></script>

            <!-- Tipue Search -->
        <script type="text/javascript" src="tipuesearch/tipuesearch.js"></script>

        <script>
            window.onunload = function(){}; // force $(document).ready to be called on back/forward navigation in firefox
            $(function() {
                tipuesearch({
                    'base_url': ''
                });
            });
        </script>
    
</body>
</html>
